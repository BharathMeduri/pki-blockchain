testnet 
wallet/user "0x78714b8663f11a388b9b74c3edbc42d253d2b0da"


solc --bin pki_parse.js > pki_parse.bin
solc --abi pki_parse.js > pki_parse_abi.json
abigen --abi pki_parse_abi.json --pkg main --type LuxUni_Parse --out bind_parse.go

cd ~/go/src/github.com/ethereum/go-ethereum/
godep go build ~/wrk/Dropbox/WORK/RD/LuxBCh/PKI/test_parse/pki_parse.go ~/wrk/Dropbox/WORK/RD/LuxBCh/PKI/test_parse/bind_parse.go

perl -p -i -e 's/\R//g' TMP.SOL

//GETH

primary	= eth.accounts[0];
web3.fromWei(eth.getBalance(primary), "ether");
personal.unlockAccount(primary);

// getting access to the contract from geth
//# inside parathesis is abi.json file for this contract
'

pki_interf = eth.contract(pki_abi)
pki = pki_interf.at("0xa53cc2fd8c52df9ce3a22fe7a8f0e3a411a3b436")

// creating the contract
pki_source = ''

pki_Compiled = eth.compile.solidity(pki_source);

pki_Contract = eth.contract(pki_Compiled['<stdin>:LuxUni_PKI'].info.abiDefinition);
//pki_Contract = eth.contract(pki_abi);

//geth1.6 !! --- https://ethereum.stackexchange.com/questions/15435/how-to-compile-solidity-contracts-with-geth-v1-6

parse_Contract = eth.contract([{"constant":true,"inputs":[{"name":"hex_str","type":"string"}],"name":"hexStrToBytes","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_der","type":"bytes"}],"name":"ParseCert","outputs":[{"name":"_addrParent","type":"address"},{"name":"_addrCA","type":"address"},{"name":"errCode","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"b","type":"bytes"}],"name":"bytesToAddress","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_der","type":"bytes"}],"name":"ParseAddrParent","outputs":[{"name":"_addrParent","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_der","type":"bytes"}],"name":"ParseAddrCA","outputs":[{"name":"_addrCA","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_ba","type":"bytes"}],"name":"bytestr_to_uint","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"}]);

//### DONT FORGET ABOUT "0x" !!!
pars = parse_Contract.new(
    {
      from:web3.eth.accounts[0], 
//      data:pki_Compiled['<stdin>:LuxUni_PKI'].code,
data:'0x6060604052341561000c57fe5b5b611ad98061001c6000396000f30060606040523615610076576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff16806308e8ac3814610078578063424885641461015957806342526e4e1461022d5780636f12af62146102c7578063c42bdedb14610361578063cd58a2e9146103fb575bfe5b341561008057fe5b6100d0600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050610469565b604051808060200182810382528381815181526020019150805190602001908083836000831461011f575b80518252602083111561011f576020820191506020810190506020830392506100fb565b505050905090810190601f16801561014b5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561016157fe5b6101b1600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611065565b604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001828152602001935050505060405180910390f35b341561023557fe5b610285600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506112ca565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34156102cf57fe5b61031f600480803590602001908201803590602001908080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050919050506112e3565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561036957fe5b6103b9600480803590602001908201803590602001908080601f01602080910402602001604051908101604052809392919081815260200183838082843782019150505050505091905050611309565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561040357fe5b610453600480803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509190505061132f565b6040518082815260200191505060405180910390f35b610471611a77565b610479611a77565b6000600060007f30000000000000000000000000000000000000000000000000000000000000008660008151811015156104af57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415806105c457507f780000000000000000000000000000000000000000000000000000000000000086600181518110151561055457fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614155b806105dd57506000600287518115156105d957fe5b0614155b806105e9575060048651105b156105f45760006000fd5b6002600287510381151561060457fe5b046040518059106106125750595b908082528060200260200182016040525b509350600292505b85518310156110585760109150601090506030868481518110151561064c57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004101580156107445750603986848151811015156106d357fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900411155b156107cb576030868481518110151561075957fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f010000000000000000000000000000000000000000000000000000000000000090040391505b603086600185018151811015156107de57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004101580156108d957506039866001850181518110151561086857fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900411155b1561096357603086600185018151811015156108f157fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f010000000000000000000000000000000000000000000000000000000000000090040390505b6041868481518110151561097357fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900410158015610a6b5750604686848151811015156109fa57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900411155b15610af557600a60418785815181101515610a8257fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004030191505b60418660018501815181101515610b0857fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900410158015610c03575060468660018501815181101515610b9257fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900411155b15610c9057600a60418760018601815181101515610c1d57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004030190505b60618684815181101515610ca057fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900410158015610d98575060668684815181101515610d2757fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900411155b15610e2257600a60618785815181101515610daf57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004030191505b60618660018501815181101515610e3557fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900410158015610f30575060668660018501815181101515610ebf57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f0100000000000000000000000000000000000000000000000000000000000000900411155b15610fbd57600a60618760018601815181101515610f4a57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004030190505b6010821480610fcc5750601081145b15610fd75760006000fd5b8082601002017f01000000000000000000000000000000000000000000000000000000000000000284600160028681151561100e57fe5b040381518110151561101c57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b60028301925061062b565b8394505b50505050919050565b600060006000611073611a77565b61107b611a8b565b611083611a8b565b61108b611a8b565b611093611a8b565b600061109e8a6113ea565b94506110aa8a86611405565b94506110b68a86611405565b9350600090505b60648161ffff16101561115a57600015156110d886866114f9565b151514156110e55761115a565b60a37f0100000000000000000000000000000000000000000000000000000000000000026111138b86611538565b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614156111405761115a565b61114a8a856115a0565b93505b80806001019150506110bd565b6111648a85611405565b92506111708a84611405565b9250600090505b60648161ffff1610156112af576000151561119285856114f9565b1515141561119f576112af565b6111a98a84611405565b91506111b58a836115c2565b95506111c18a836115a0565b91506001151561120f8761120a604060405190810160405280601281526020017f3078303630363261383537303733323130310000000000000000000000000000815250610469565b6115e6565b1515141561122c576112296112248b8461172c565b6112ca565b98505b6001151561127887611273604060405190810160405280601281526020017f3078303630363261383537303733323130320000000000000000000000000000815250610469565b6115e6565b151514156112955761129261128d8b8461172c565b6112ca565b97505b61129f8a846115a0565b92505b8080600101915050611177565b888860008090509850985098505b5050505050509193909250565b600060006112d78361132f565b90508091505b50919050565b6000600060006112f284611065565b8093508194508295505050508292505b5050919050565b60006000600061131884611065565b8093508195508294505050508292505b5050919050565b60006000600060009150600090505b83518110156113df576008829060020a029150838181518110151561135f57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027f01000000000000000000000000000000000000000000000000000000000000009004821791505b808060010191505061133e565b8192505b5050919050565b6113f2611a8b565b6113fd826000611750565b90505b919050565b61140d611a8b565b60207f01000000000000000000000000000000000000000000000000000000000000000260207f01000000000000000000000000000000000000000000000000000000000000000284846000015181518110151561146757fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415156114e25760006000fd5b6114f0838360200151611750565b90505b92915050565b60008260400151826040015111156115145760009050611532565b82602001518260000151101561152d5760009050611532565b600190505b92915050565b600082826000015181518110151561154c57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000290505b92915050565b6115a8611a8b565b6115b9836001846040015101611750565b90505b92915050565b6115ca611a77565b6115dd838360000151846040015161196c565b90505b92915050565b60006000825184511415156115fe5760009150611725565b600090505b835181101561172057828181518110151561161a57fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916848281518110151561169557fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f0100000000000000000000000000000000000000000000000000000000000000027effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff19161415156117125760009150611725565b5b8080600101915050611603565b600191505b5092915050565b611734611a77565b611747838360200151846040015161196c565b90505b92915050565b611758611a8b565b60006000600060006000876001880181518110151561177357fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002925060007f01000000000000000000000000000000000000000000000000000000000000000260807f0100000000000000000000000000000000000000000000000000000000000000028960018a0181518110151561181957fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f010000000000000000000000000000000000000000000000000000000000000002167effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614156118c657827f010000000000000000000000000000000000000000000000000000000000000090049150600287019450600182860103935061193f565b607f7f01000000000000000000000000000000000000000000000000000000000000000283167f01000000000000000000000000000000000000000000000000000000000000009004905061192c6119278960028a018460018c010161196c565b61132f565b9150806002880101945060018286010393505b8686600001818152505084866020018181525050838660400181815250508595505b505050505092915050565b611974611a77565b61197c611a77565b6000855184111561198d5760006000fd5b8460018501036040518059106119a05750595b908082528060200260200182016040525b5091508490505b60018401811015611a6a5785818151811015156119d157fe5b9060200101517f010000000000000000000000000000000000000000000000000000000000000090047f01000000000000000000000000000000000000000000000000000000000000000282868303815181101515611a2c57fe5b9060200101907effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916908160001a9053505b80806001019150506119b8565b8192505b50509392505050565b602060405190810160405280600081525090565b60606040519081016040528060008152602001600081526020016000815250905600a165627a7a72305820a9b5325faad0303b22b08482febdbd5e143b2cf7b02954e3dd67faaeebcd2a500029',
//        gas: 3000000
        gas: 200000000000
    }, function(e, contract){
      if(!e) {
        if(!contract.address) {
          console.log("Contract transaction send: TransactionHash: " + contract.transactionHash + " waiting to be mined...");

        } else {
          console.log("Contract mined! Address: " + contract.address);
          //console.log(contract);
        }
      }      
    })

// contract addr: 0xe3c26f2c755744938102e77ed997ba29c8c2e0ca
//0xa8bd9f9b700c364d53df6dd6cbbef4902bfc8427
//0x985167de029d3c57acf83ba225b31d2c0f14a4de
//0x60751be91263403d6bb1d1bc1572adf1c1fe24ce
//0xc3d89b7fe7755a8dad64f4ffef430314d79f680a
//0x45e590e9fb3a0938f47ccc12baa172affc05c436 //8
//0xfcc1627d2141e099bb50f8d4c9f70b2246910980 // 10
//0x82c03c2a73b54ee40048ee7d5d15308a57e5e083


eth.sendTransaction({from:eth.coinbase, to:eth.accounts[1], value: web3.toWei(2000, "ether")})

pki.newRegDatum.sendTransaction(
    "","1234","", "File7.pdf", "This is the 7th trial from geth",
    {from:eth.coinbase, gas:2000000},
    function (e, result){
       if(!e){
          console.log("newRegDatum id: " + result.args.regID);
       }
    } 
)



